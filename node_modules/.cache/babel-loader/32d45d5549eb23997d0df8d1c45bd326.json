{"ast":null,"code":"var _jsxFileName = \"/home/ivan/\\xC1rea de Trabalho/t8/t08_p11_trackit/src/components/habits/Habits.js\",\n    _s = $RefreshSig$();\n\nimport { useState, useContext, useEffect } from \"react\";\nimport axios from \"axios\";\nimport { BsFillPlusSquareFill } from \"react-icons/bs\";\nimport { Wrapper, Container, Title, Text } from \"./styled/HabitsStyled\";\nimport TodayHabitsContext from \"../../contexts/TodayHabitsContext\";\nimport HabitsContext from \"../../contexts/HabitsContext\";\nimport UserContext from \"../../contexts/UserContext\";\nimport Header from \"../Header\";\nimport CreateHabit from \"./CreateHabit\";\nimport Habit from \"./Habit\";\nimport Footer from \"../Footer\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction Habits() {\n  _s();\n\n  const {\n    percentage,\n    setPercentage,\n    todayHabitsCount,\n    count\n  } = useContext(TodayHabitsContext);\n  const {\n    habits\n  } = useContext(HabitsContext);\n  const [apiHabits, setApiHabits] = useState(null);\n  const [isCreatingHabit, setIsCreatingHabit] = useState(0);\n  const {\n    userInfo\n  } = useContext(UserContext);\n  const config = {\n    headers: {\n      Authorization: `Bearer ${userInfo.token}`\n    }\n  };\n  useEffect(() => {\n    const URL = \"https://mock-api.bootcamp.respondeai.com.br/api/v2/trackit/habits\";\n\n    if (userInfo.token) {\n      const promise = axios.get(URL, config);\n      promise.then(response => {\n        setPercentage((count / todayHabitsCount * 100).toFixed(0));\n        setApiHabits(response.data);\n      });\n      promise.catch(err => {\n        console.log(err.response);\n      });\n    }\n  }, [habits, userInfo, todayHabitsCount]);\n\n  function showHabitForm() {\n    return /*#__PURE__*/_jsxDEV(CreateHabit, {\n      setIsCreatingHabit: setIsCreatingHabit,\n      isCreatingHabit: isCreatingHabit\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 4\n    }, this);\n  }\n\n  function showHabits() {\n    if (apiHabits) {\n      return apiHabits.map((habit, index) => {\n        return /*#__PURE__*/_jsxDEV(Habit, {\n          name: habit.name,\n          days: habit.days,\n          id: habit.id,\n          apiHabits: apiHabits\n        }, (habit.name, index), false, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 6\n        }, this);\n      });\n    } else {\n      return /*#__PURE__*/_jsxDEV(Text, {\n        children: \"Voc\\xEA n\\xE3o tem nenhum h\\xE1bito cadastrado ainda. Adicione um h\\xE1bito para come\\xE7ar a trackear!\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 5\n      }, this);\n    }\n  }\n\n  return /*#__PURE__*/_jsxDEV(Wrapper, {\n    children: [/*#__PURE__*/_jsxDEV(Header, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 4\n    }, this), /*#__PURE__*/_jsxDEV(Container, {\n      children: [/*#__PURE__*/_jsxDEV(Title, {\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          children: \"Meus H\\xE1bitos\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          onClick: () => {\n            setIsCreatingHabit(1);\n          },\n          children: /*#__PURE__*/_jsxDEV(BsFillPlusSquareFill, {\n            color: \"#52B6FF\",\n            size: \"35px\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 87,\n            columnNumber: 7\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 6\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 5\n      }, this), showHabitForm(), showHabits()]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 4\n    }, this), /*#__PURE__*/_jsxDEV(Footer, {\n      percentage: percentage\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 4\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 77,\n    columnNumber: 3\n  }, this);\n}\n\n_s(Habits, \"fIsInBuvmKmgv6GEKtZvjNaNQfg=\");\n\n_c = Habits;\nexport default Habits;\n\nvar _c;\n\n$RefreshReg$(_c, \"Habits\");","map":{"version":3,"sources":["/home/ivan/Área de Trabalho/t8/t08_p11_trackit/src/components/habits/Habits.js"],"names":["useState","useContext","useEffect","axios","BsFillPlusSquareFill","Wrapper","Container","Title","Text","TodayHabitsContext","HabitsContext","UserContext","Header","CreateHabit","Habit","Footer","Habits","percentage","setPercentage","todayHabitsCount","count","habits","apiHabits","setApiHabits","isCreatingHabit","setIsCreatingHabit","userInfo","config","headers","Authorization","token","URL","promise","get","then","response","toFixed","data","catch","err","console","log","showHabitForm","showHabits","map","habit","index","name","days","id"],"mappings":"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","sourcesContent":["import { useState, useContext, useEffect } from \"react\";\nimport axios from \"axios\";\nimport { BsFillPlusSquareFill } from \"react-icons/bs\";\n\nimport { Wrapper, Container, Title, Text } from \"./styled/HabitsStyled\";\nimport TodayHabitsContext from \"../../contexts/TodayHabitsContext\";\nimport HabitsContext from \"../../contexts/HabitsContext\";\nimport UserContext from \"../../contexts/UserContext\";\nimport Header from \"../Header\";\nimport CreateHabit from \"./CreateHabit\";\nimport Habit from \"./Habit\";\nimport Footer from \"../Footer\";\n\nfunction Habits() {\n\tconst { percentage, setPercentage, todayHabitsCount, count } =\n\t\tuseContext(TodayHabitsContext);\n\tconst { habits } = useContext(HabitsContext);\n\tconst [apiHabits, setApiHabits] = useState(null);\n\tconst [isCreatingHabit, setIsCreatingHabit] = useState(0);\n\tconst { userInfo } = useContext(UserContext);\n\tconst config = {\n\t\theaders: {\n\t\t\tAuthorization: `Bearer ${userInfo.token}`,\n\t\t},\n\t};\n\n\tuseEffect(() => {\n\t\tconst URL =\n\t\t\t\"https://mock-api.bootcamp.respondeai.com.br/api/v2/trackit/habits\";\n\n\t\tif (userInfo.token) {\n\t\t\tconst promise = axios.get(URL, config);\n\n\t\t\tpromise.then((response) => {\n\t\t\t\tsetPercentage(((count / todayHabitsCount) * 100).toFixed(0));\n\t\t\t\tsetApiHabits(response.data);\n\t\t\t});\n\t\t\tpromise.catch((err) => {\n\t\t\t\tconsole.log(err.response);\n\t\t\t});\n\t\t}\n\t}, [habits, userInfo, todayHabitsCount]);\n\n\tfunction showHabitForm() {\n\t\treturn (\n\t\t\t<CreateHabit\n\t\t\t\tsetIsCreatingHabit={setIsCreatingHabit}\n\t\t\t\tisCreatingHabit={isCreatingHabit}\n\t\t\t/>\n\t\t);\n\t}\n\n\tfunction showHabits() {\n\t\tif (apiHabits) {\n\t\t\treturn apiHabits.map((habit, index) => {\n\t\t\t\treturn (\n\t\t\t\t\t<Habit\n\t\t\t\t\t\tkey={(habit.name, index)}\n\t\t\t\t\t\tname={habit.name}\n\t\t\t\t\t\tdays={habit.days}\n\t\t\t\t\t\tid={habit.id}\n\t\t\t\t\t\tapiHabits={apiHabits}\n\t\t\t\t\t></Habit>\n\t\t\t\t);\n\t\t\t});\n\t\t} else {\n\t\t\treturn (\n\t\t\t\t<Text>\n\t\t\t\t\tVocê não tem nenhum hábito cadastrado ainda. Adicione um hábito para\n\t\t\t\t\tcomeçar a trackear!\n\t\t\t\t</Text>\n\t\t\t);\n\t\t}\n\t}\n\n\treturn (\n\t\t<Wrapper>\n\t\t\t<Header />\n\t\t\t<Container>\n\t\t\t\t<Title>\n\t\t\t\t\t<span>Meus Hábitos</span>\n\t\t\t\t\t<div\n\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\tsetIsCreatingHabit(1);\n\t\t\t\t\t\t}}\n\t\t\t\t\t>\n\t\t\t\t\t\t<BsFillPlusSquareFill color=\"#52B6FF\" size=\"35px\" />\n\t\t\t\t\t</div>\n\t\t\t\t</Title>\n\t\t\t\t{showHabitForm()}\n\t\t\t\t{showHabits()}\n\t\t\t</Container>\n\t\t\t<Footer percentage={percentage} />\n\t\t</Wrapper>\n\t);\n}\n\nexport default Habits;\n"]},"metadata":{},"sourceType":"module"}