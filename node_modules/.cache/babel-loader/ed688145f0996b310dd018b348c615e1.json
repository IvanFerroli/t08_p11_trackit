{"ast":null,"code":"var _jsxFileName = \"/home/ivan/\\xC1rea de Trabalho/t8/t08_p11_trackit/src/components/today/TodayHabit.js\",\n    _s = $RefreshSig$();\n\nimport styled from \"styled-components\";\nimport { BsCheckSquareFill } from \"react-icons/bs\";\nimport { useContext, useState } from \"react\";\nimport axios from \"axios\";\nimport UserContext from \"../../contexts/UserContext\";\nimport TodayHabitsContext from \"../../contexts/TodayHabitsContext\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction TodayHabit(props) {\n  _s();\n\n  const {\n    name,\n    done,\n    highest,\n    current,\n    id\n  } = props;\n  const {\n    count,\n    setCount\n  } = useContext(TodayHabitsContext);\n  const {\n    userInfo\n  } = useContext(UserContext);\n  const [sequence, setSequence] = useState({\n    highest: highest,\n    current: current\n  });\n  const [isDone, setIsDone] = useState(done);\n  const config = {\n    headers: {\n      Authorization: `Bearer ${userInfo.token}`\n    }\n  };\n\n  function sendRequest(URL) {\n    if (isDone) {\n      const promise = axios.post(URL, {}, config);\n      promise.then(response => {\n        // console.log(response.data);\n        setCount(count - 1);\n        setSequence({\n          highest: sequence.highest - 1,\n          current: sequence.current - 1\n        });\n        setIsDone(false);\n      });\n      promise.catch(err => {\n        console.log(err.data);\n      });\n    } else if (!isDone) {\n      const promise = axios.post(URL, {}, config);\n      promise.then(response => {\n        // console.log(response.data);\n        setCount(count + 1);\n        setSequence({\n          highest: sequence.highest + 1,\n          current: sequence.current + 1\n        });\n        setIsDone(true);\n      });\n      promise.catch(err => {\n        console.log(err.data);\n      });\n    }\n  }\n\n  function toggleDoneHabit() {\n    if (isDone && userInfo.token) {\n      // console.log(userInfo.token);\n      // console.log(\"vou desmarcar\");\n      const URL = `https://mock-api.bootcamp.respondeai.com.br/api/v2/trackit/habits/${id}/uncheck`;\n      sendRequest(URL);\n    } else if (!isDone && userInfo.token) {\n      // console.log(userInfo.token);\n      // console.log(\"vou marcar\");\n      const URL = `https://mock-api.bootcamp.respondeai.com.br/api/v2/trackit/habits/${id}/check `;\n      sendRequest(URL);\n    }\n  }\n\n  return /*#__PURE__*/_jsxDEV(Wrapper, {\n    children: /*#__PURE__*/_jsxDEV(Container, {\n      children: [/*#__PURE__*/_jsxDEV(Habit, {\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          children: name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(CurrentCount, {\n            isDone: isDone,\n            children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n              children: \"Sequ\\xEAncia Atual:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 78,\n              columnNumber: 8\n            }, this), \" \", /*#__PURE__*/_jsxDEV(\"span\", {\n              children: [sequence.current, \" dias\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 78,\n              columnNumber: 34\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 77,\n            columnNumber: 7\n          }, this), /*#__PURE__*/_jsxDEV(HighestCount, {\n            highest: sequence.highest,\n            current: sequence.current,\n            children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n              children: \"Seu recorde:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 82,\n              columnNumber: 8\n            }, this), \" \", /*#__PURE__*/_jsxDEV(\"span\", {\n              children: [sequence.highest, \" dias\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 82,\n              columnNumber: 30\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 81,\n            columnNumber: 7\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 6\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(BsCheckSquareFill, {\n        onClick: toggleDoneHabit,\n        color: isDone ? \"#8FC549\" : \"#EBEBEB\",\n        size: \"70px\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 5\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 4\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 72,\n    columnNumber: 3\n  }, this);\n}\n\n_s(TodayHabit, \"rJTzGJzAajgJpk/gZpqioW79KcE=\");\n\n_c = TodayHabit;\nexport default TodayHabit;\nconst Wrapper = styled.div`\n\twidth: 90%;\n\theight: 94px;\n\tborder-radius: 5px;\n\tbackground-color: #fff;\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n`;\n_c2 = Wrapper;\nconst Container = styled.div`\n\twidth: 90%;\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: space-between;\n`;\n_c3 = Container;\nconst Habit = styled.div`\n\tdisplay: flex;\n\tflex-direction: column;\n\twidth: 80%;\n\tgap: 7px;\n\n\tspan {\n\t\tfont-family: \"Lexend Deca\";\n\t\tfont-style: normal;\n\t\tfont-weight: 400;\n\t\tfont-size: 19.976px;\n\t\tline-height: 25px;\n\t\tcolor: #666666;\n\t}\n\n\tdiv {\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t\tgap: 3px;\n\t}\n`;\n_c4 = Habit;\nconst CurrentCount = styled.span`\n\tdisplay: flex;\n\talign-items: center;\n\tgap: 5px;\n\n\tspan,\n\th2 {\n\t\tfont-family: \"Lexend Deca\";\n\t\tfont-style: normal;\n\t\tfont-weight: 400;\n\t\tfont-size: 12.976px;\n\t\tline-height: 16px;\n\t}\n\th2 {\n\t\tcolor: #666666;\n\t}\n\n\tspan {\n\t\tcolor: ${props => props.isDone ? \"#8FC549\" : \"#666666\"};\n\t}\n`;\n_c5 = CurrentCount;\nconst HighestCount = styled.span`\n\tdisplay: flex;\n\talign-items: center;\n\tgap: 5px;\n\n\tspan,\n\th2 {\n\t\tfont-family: \"Lexend Deca\";\n\t\tfont-style: normal;\n\t\tfont-weight: 400;\n\t\tfont-size: 12.976px;\n\t\tline-height: 16px;\n\t}\n\th2 {\n\t\tcolor: #666666;\n\t}\n\tspan {\n\t\tcolor: ${props => props.highest === props.current && props.highest !== 0 ? \"#8FC549;\" : \"#666666;\"};\n\t}\n`;\n_c6 = HighestCount;\n\nvar _c, _c2, _c3, _c4, _c5, _c6;\n\n$RefreshReg$(_c, \"TodayHabit\");\n$RefreshReg$(_c2, \"Wrapper\");\n$RefreshReg$(_c3, \"Container\");\n$RefreshReg$(_c4, \"Habit\");\n$RefreshReg$(_c5, \"CurrentCount\");\n$RefreshReg$(_c6, \"HighestCount\");","map":{"version":3,"sources":["/home/ivan/√Årea de Trabalho/t8/t08_p11_trackit/src/components/today/TodayHabit.js"],"names":["styled","BsCheckSquareFill","useContext","useState","axios","UserContext","TodayHabitsContext","TodayHabit","props","name","done","highest","current","id","count","setCount","userInfo","sequence","setSequence","isDone","setIsDone","config","headers","Authorization","token","sendRequest","URL","promise","post","then","response","catch","err","console","log","data","toggleDoneHabit","Wrapper","div","Container","Habit","CurrentCount","span","HighestCount"],"mappings":"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","sourcesContent":["import styled from \"styled-components\";\nimport { BsCheckSquareFill } from \"react-icons/bs\";\nimport { useContext, useState } from \"react\";\nimport axios from \"axios\";\n\nimport UserContext from \"../../contexts/UserContext\";\nimport TodayHabitsContext from \"../../contexts/TodayHabitsContext\";\n\nfunction TodayHabit(props) {\n\tconst { name, done, highest, current, id } = props;\n\tconst { count, setCount } = useContext(TodayHabitsContext);\n\tconst { userInfo } = useContext(UserContext);\n\tconst [sequence, setSequence] = useState({\n\t\thighest: highest,\n\t\tcurrent: current,\n\t});\n\tconst [isDone, setIsDone] = useState(done);\n\n\tconst config = {\n\t\theaders: {\n\t\t\tAuthorization: `Bearer ${userInfo.token}`,\n\t\t},\n\t};\n\n\tfunction sendRequest(URL) {\n\t\tif (isDone) {\n\t\t\tconst promise = axios.post(URL, {}, config);\n\t\t\tpromise.then((response) => {\n\t\t\t\t// console.log(response.data);\n\t\t\t\tsetCount(count - 1);\n\t\t\t\tsetSequence({\n\t\t\t\t\thighest: sequence.highest - 1,\n\t\t\t\t\tcurrent: sequence.current - 1,\n\t\t\t\t});\n\t\t\t\tsetIsDone(false);\n\t\t\t});\n\t\t\tpromise.catch((err) => {\n\t\t\t\tconsole.log(err.data);\n\t\t\t});\n\t\t} else if (!isDone) {\n\t\t\tconst promise = axios.post(URL, {}, config);\n\t\t\tpromise.then((response) => {\n\t\t\t\t// console.log(response.data);\n\t\t\t\tsetCount(count + 1);\n\t\t\t\tsetSequence({\n\t\t\t\t\thighest: sequence.highest + 1,\n\t\t\t\t\tcurrent: sequence.current + 1,\n\t\t\t\t});\n\t\t\t\tsetIsDone(true);\n\t\t\t});\n\t\t\tpromise.catch((err) => {\n\t\t\t\tconsole.log(err.data);\n\t\t\t});\n\t\t}\n\t}\n\n\tfunction toggleDoneHabit() {\n\t\tif (isDone && userInfo.token) {\n\t\t\t// console.log(userInfo.token);\n\t\t\t// console.log(\"vou desmarcar\");\n\t\t\tconst URL = `https://mock-api.bootcamp.respondeai.com.br/api/v2/trackit/habits/${id}/uncheck`;\n\t\t\tsendRequest(URL);\n\t\t} else if (!isDone && userInfo.token) {\n\t\t\t// console.log(userInfo.token);\n\t\t\t// console.log(\"vou marcar\");\n\t\t\tconst URL = `https://mock-api.bootcamp.respondeai.com.br/api/v2/trackit/habits/${id}/check `;\n\t\t\tsendRequest(URL);\n\t\t}\n\t}\n\n\treturn (\n\t\t<Wrapper>\n\t\t\t<Container>\n\t\t\t\t<Habit>\n\t\t\t\t\t<span>{name}</span>\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<CurrentCount isDone={isDone}>\n\t\t\t\t\t\t\t<h2>Sequ√™ncia Atual:</h2> <span>{sequence.current} dias</span>\n\t\t\t\t\t\t</CurrentCount>\n\n\t\t\t\t\t\t<HighestCount highest={sequence.highest} current={sequence.current}>\n\t\t\t\t\t\t\t<h2>Seu recorde:</h2> <span>{sequence.highest} dias</span>\n\t\t\t\t\t\t</HighestCount>\n\t\t\t\t\t</div>\n\t\t\t\t</Habit>\n\n\t\t\t\t<BsCheckSquareFill\n\t\t\t\t\tonClick={toggleDoneHabit}\n\t\t\t\t\tcolor={isDone ? \"#8FC549\" : \"#EBEBEB\"}\n\t\t\t\t\tsize=\"70px\"\n\t\t\t\t/>\n\t\t\t</Container>\n\t\t</Wrapper>\n\t);\n}\n\nexport default TodayHabit;\n\nconst Wrapper = styled.div`\n\twidth: 90%;\n\theight: 94px;\n\tborder-radius: 5px;\n\tbackground-color: #fff;\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n`;\n\nconst Container = styled.div`\n\twidth: 90%;\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: space-between;\n`;\n\nconst Habit = styled.div`\n\tdisplay: flex;\n\tflex-direction: column;\n\twidth: 80%;\n\tgap: 7px;\n\n\tspan {\n\t\tfont-family: \"Lexend Deca\";\n\t\tfont-style: normal;\n\t\tfont-weight: 400;\n\t\tfont-size: 19.976px;\n\t\tline-height: 25px;\n\t\tcolor: #666666;\n\t}\n\n\tdiv {\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t\tgap: 3px;\n\t}\n`;\n\nconst CurrentCount = styled.span`\n\tdisplay: flex;\n\talign-items: center;\n\tgap: 5px;\n\n\tspan,\n\th2 {\n\t\tfont-family: \"Lexend Deca\";\n\t\tfont-style: normal;\n\t\tfont-weight: 400;\n\t\tfont-size: 12.976px;\n\t\tline-height: 16px;\n\t}\n\th2 {\n\t\tcolor: #666666;\n\t}\n\n\tspan {\n\t\tcolor: ${(props) => (props.isDone ? \"#8FC549\" : \"#666666\")};\n\t}\n`;\n\nconst HighestCount = styled.span`\n\tdisplay: flex;\n\talign-items: center;\n\tgap: 5px;\n\n\tspan,\n\th2 {\n\t\tfont-family: \"Lexend Deca\";\n\t\tfont-style: normal;\n\t\tfont-weight: 400;\n\t\tfont-size: 12.976px;\n\t\tline-height: 16px;\n\t}\n\th2 {\n\t\tcolor: #666666;\n\t}\n\tspan {\n\t\tcolor: ${(props) =>\n\t\t\tprops.highest === props.current && props.highest !== 0\n\t\t\t\t? \"#8FC549;\"\n\t\t\t\t: \"#666666;\"};\n\t}\n`;\n"]},"metadata":{},"sourceType":"module"}