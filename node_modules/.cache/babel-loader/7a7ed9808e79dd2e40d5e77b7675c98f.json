{"ast":null,"code":"var _jsxFileName = \"/home/ivan/\\xC1rea de Trabalho/t8/t08_p11_trackit/src/components/habits/Habit.js\",\n    _s = $RefreshSig$();\n\nimport { useContext } from \"react\";\nimport { BsFillTrashFill } from \"react-icons/bs\";\nimport Swal from \"sweetalert2\";\nimport axios from \"axios\";\nimport dayjs from \"dayjs\";\nimport { Wrapper, Container, Weekday, Name } from \"./styled/HabitStyled\";\nimport UserContext from \"../../contexts/UserContext\";\nimport HabitsContext from \"../../contexts/HabitsContext\";\nimport TodayHabitsContext from \"../../contexts/TodayHabitsContext\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nfunction Habit(props) {\n  _s();\n\n  const {\n    count,\n    setPercentage,\n    todayHabitsCount,\n    setTodayHabitsCount\n  } = useContext(TodayHabitsContext);\n  const {\n    name,\n    days,\n    id\n  } = props;\n  const weekdays = [\"D\", \"S\", \"T\", \"Q\", \"S\", \"S\"];\n  const {\n    habits,\n    setHabits\n  } = useContext(HabitsContext);\n  const {\n    userInfo\n  } = useContext(UserContext);\n  const config = {\n    headers: {\n      Authorization: `Bearer ${userInfo.token}`\n    }\n  };\n  const date = dayjs().day();\n\n  function deleteHabit() {\n    const URL = `\n        https://mock-api.bootcamp.respondeai.com.br/api/v2/trackit/habits/${id}\n        `;\n    const promise = axios.delete(URL, config);\n    promise.then(response => {\n      if (days.some(day => day === date)) {\n        setTodayHabitsCount(todayHabitsCount - 1);\n        const filteredHabits = habits.filter(habit => habit.id !== id);\n        setHabits(filteredHabits);\n      } else {\n        const filteredHabits = habits.filter(habit => habit.id !== id);\n        setHabits(filteredHabits);\n      }\n    });\n    promise.catch(err => {\n      console.log(err.response);\n    });\n  }\n\n  function showHabit() {\n    return /*#__PURE__*/_jsxDEV(Wrapper, {\n      children: /*#__PURE__*/_jsxDEV(Container, {\n        children: [/*#__PURE__*/_jsxDEV(Name, {\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            children: name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 51,\n            columnNumber: 7\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            onClick: () => {\n              Swal.fire({\n                title: \"Deseja deletar este hábito?\",\n                text: \"Não será possível reverter esta ação!\",\n                icon: \"warning\",\n                showCancelButton: true,\n                confirmButtonColor: \"#3085d6\",\n                cancelButtonColor: \"#d33\",\n                confirmButtonText: \"Sim\",\n                cancelButtonText: \"Não\"\n              }).then(result => {\n                if (result.isConfirmed) {\n                  deleteHabit();\n                }\n              });\n            },\n            children: /*#__PURE__*/_jsxDEV(BsFillTrashFill, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 70,\n              columnNumber: 8\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 52,\n            columnNumber: 7\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: weekdays.map((weekday, index) => {\n            return /*#__PURE__*/_jsxDEV(Weekday, {\n              i: index,\n              days: days,\n              children: weekday\n            }, index, false, {\n              fileName: _jsxFileName,\n              lineNumber: 76,\n              columnNumber: 9\n            }, this);\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 6\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 5\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 4\n    }, this);\n  }\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: showHabit()\n  }, void 0, false);\n}\n\n_s(Habit, \"djEoD0vrlsqYuDBHWl3m9EAsORE=\");\n\n_c = Habit;\nexport default Habit;\n\nvar _c;\n\n$RefreshReg$(_c, \"Habit\");","map":{"version":3,"sources":["/home/ivan/Área de Trabalho/t8/t08_p11_trackit/src/components/habits/Habit.js"],"names":["useContext","BsFillTrashFill","Swal","axios","dayjs","Wrapper","Container","Weekday","Name","UserContext","HabitsContext","TodayHabitsContext","Habit","props","count","setPercentage","todayHabitsCount","setTodayHabitsCount","name","days","id","weekdays","habits","setHabits","userInfo","config","headers","Authorization","token","date","day","deleteHabit","URL","promise","delete","then","response","some","filteredHabits","filter","habit","catch","err","console","log","showHabit","fire","title","text","icon","showCancelButton","confirmButtonColor","cancelButtonColor","confirmButtonText","cancelButtonText","result","isConfirmed","map","weekday","index"],"mappings":"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","sourcesContent":["import { useContext } from \"react\";\nimport { BsFillTrashFill } from \"react-icons/bs\";\nimport Swal from \"sweetalert2\";\nimport axios from \"axios\";\nimport dayjs from \"dayjs\";\n\nimport { Wrapper, Container, Weekday, Name } from \"./styled/HabitStyled\";\nimport UserContext from \"../../contexts/UserContext\";\nimport HabitsContext from \"../../contexts/HabitsContext\";\nimport TodayHabitsContext from \"../../contexts/TodayHabitsContext\";\n\nfunction Habit(props) {\n\tconst { count, setPercentage, todayHabitsCount, setTodayHabitsCount } =\n\t\tuseContext(TodayHabitsContext);\n\tconst { name, days, id } = props;\n\tconst weekdays = [\"D\", \"S\", \"T\", \"Q\", \"S\", \"S\"];\n\tconst { habits, setHabits } = useContext(HabitsContext);\n\tconst { userInfo } = useContext(UserContext);\n\tconst config = {\n\t\theaders: {\n\t\t\tAuthorization: `Bearer ${userInfo.token}`,\n\t\t},\n\t};\n\tconst date = dayjs().day();\n\n\tfunction deleteHabit() {\n\t\tconst URL = `\n        https://mock-api.bootcamp.respondeai.com.br/api/v2/trackit/habits/${id}\n        `;\n\t\tconst promise = axios.delete(URL, config);\n\t\tpromise.then((response) => {\n\t\t\tif (days.some((day) => day === date)) {\n\t\t\t\tsetTodayHabitsCount(todayHabitsCount - 1);\n\t\t\t\tconst filteredHabits = habits.filter((habit) => habit.id !== id);\n\t\t\t\tsetHabits(filteredHabits);\n\t\t\t} else {\n\t\t\t\tconst filteredHabits = habits.filter((habit) => habit.id !== id);\n\t\t\t\tsetHabits(filteredHabits);\n\t\t\t}\n\t\t});\n\t\tpromise.catch((err) => {\n\t\t\tconsole.log(err.response);\n\t\t});\n\t}\n\n\tfunction showHabit() {\n\t\treturn (\n\t\t\t<Wrapper>\n\t\t\t\t<Container>\n\t\t\t\t\t<Name>\n\t\t\t\t\t\t<p>{name}</p>\n\t\t\t\t\t\t<span\n\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\tSwal.fire({\n\t\t\t\t\t\t\t\t\ttitle: \"Deseja deletar este hábito?\",\n\t\t\t\t\t\t\t\t\ttext: \"Não será possível reverter esta ação!\",\n\t\t\t\t\t\t\t\t\ticon: \"warning\",\n\t\t\t\t\t\t\t\t\tshowCancelButton: true,\n\t\t\t\t\t\t\t\t\tconfirmButtonColor: \"#3085d6\",\n\t\t\t\t\t\t\t\t\tcancelButtonColor: \"#d33\",\n\t\t\t\t\t\t\t\t\tconfirmButtonText: \"Sim\",\n\t\t\t\t\t\t\t\t\tcancelButtonText: \"Não\",\n\t\t\t\t\t\t\t\t}).then((result) => {\n\t\t\t\t\t\t\t\t\tif (result.isConfirmed) {\n\t\t\t\t\t\t\t\t\t\tdeleteHabit();\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<BsFillTrashFill />\n\t\t\t\t\t\t</span>\n\t\t\t\t\t</Name>\n\t\t\t\t\t<div>\n\t\t\t\t\t\t{weekdays.map((weekday, index) => {\n\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t<Weekday key={index} i={index} days={days}>\n\t\t\t\t\t\t\t\t\t{weekday}\n\t\t\t\t\t\t\t\t</Weekday>\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t})}\n\t\t\t\t\t</div>\n\t\t\t\t</Container>\n\t\t\t</Wrapper>\n\t\t);\n\t}\n\n\treturn <>{showHabit()}</>;\n}\n\nexport default Habit;\n"]},"metadata":{},"sourceType":"module"}